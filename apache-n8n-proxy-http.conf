
# Include para HTTP (porta 80) - n8n atrás do Apache
# Substituído pelo cPanel em: /etc/apache2/conf.d/userdata/std/2_4/<cpuser>/<domain>/n8n-proxy.conf

<IfModule proxy_module>
  ProxyPreserveHost On
  ProxyRequests Off
  RequestHeader set X-Forwarded-Proto "http"

  # HTTP para a porta interna do n8n
  ProxyPass        /  http://127.0.0.1:5678/ retry=0 timeout=300
  ProxyPassReverse /  http://127.0.0.1:5678/

  # WebSocket do editor (socket.io)
  ProxyPass        /socket.io/ ws://127.0.0.1:5678/socket.io/
  ProxyPassReverse /socket.io/ ws://127.0.0.1:5678/socket.io/
</IfModule>
